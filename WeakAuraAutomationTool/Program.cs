using System;
using System.Diagnostics;
using System.IO;
using WeakAuraAutomationTool.LuaMachine;
using WeakAuraAutomationTool.WeakAuras;

namespace WeakAuraAutomationTool
{
    internal class Program
    {
        // this would have been helpful to find before I started this
        // https://github.com/oratory/wago.io/tree/master/backend/api/lua
        // https://www.wowhead.com/spell=329487/ardenweald-covenant-ability
        // https://github.com/Gethe/wow-ui-source
        // http://moonshinejs.org/editor/

        // todo: optional -- match new LuaFields \ Classes to existing classes to make it easier to update things
        // todo: optional -- tool/script to do WAGO.io uploads?
        // todo: what can we do to make our Import-String smaller?

        private static void Main(string[] args)
        {
            Console.WriteLine("Generating WeakAura!");
            var sw = Stopwatch.StartNew();

            // UnpackTest();

            BarbequeParty();

            // Code in Warcraft\Parser\Data.cs
            // Warcraft.Parser.Parse.ProduceCodeFromCsv();
            // Code in Warcraft\Classes.cs
            // Warcraft.Parser.Parse.ProduceSpellDataFromCsv();

            var elapsed = sw.ElapsedMilliseconds;
            Console.WriteLine($"Complete! {elapsed} ms");
        }

        private static void BarbequeParty()
        {
            var wa = Barbeque.Generate.Go();
            var importString = wa.ToCompressedString();

            // Console.WriteLine(importString);

            Directory.CreateDirectory("output");
            const string filepath = "output/importString.txt";
            File.WriteAllText(filepath, importString);
            Console.WriteLine($"File '{filepath}' written. {importString.Length} bytes.");
        }

        private static string waTest = "!WA:2!S33A4Trw59VJ8gipMUqIZL1XB2SAZYMyNDjRVe74aK2AjlzlhFvsw(c0knZOJ0m2JMz8zMX2sLsBmT0aLTl4c9gl9pRzl0c0UTUTq3c0cP0sV8VL36slBPuGMh6nEEkppKp0hE6N65CMr2wokYekksbD(qCgjDMzoZ593V3FVVZ5MqIwSI2Z578891sUws3s6RDU1fXYJI0ZARiCdjdCAeoGO8IPXgMMhkGMAHcI40(JByOzRAULOJTIbEctBvdDRMX5NitglK9BS5nf1Lj)WKgQ62sbdnE8qr3iJJMwqvSSgsznSXkXmfLrcyrz252xulBrSDF3qrnnkPOMwYSAgRyPij7yzBKZ36Pns6EOsavDv7(GhqbEL(GxLIugYNTu25lwZgRMnlcB1wFyVdV2jwt1gLBCXCibZd7yHsMfPJWQYXumwzcDLO6KFXQzwHIPzylSrAKKtMmXZBIWdhA0jdp9OyYPrVakK6U(e6A5v2KEHu1xMCRqkRBzI00y3HaoKkOKPMyEsBNn5sev0bl29g0IBlQH0TvUHLJeAzYrXi3f1v3mzWbIfpzS4den(2)0Kye5NIgBYqJoQ5rPNSfP2grx2iNQE2HrIAkrzfuIESTY1zvhVhZD(e95rzl2PxSgQSg7WiPTA2Sf3AfolYokAjhvmkTYnOFNOKLbwAmJ0KIt)m9HszDwPjgTfvKihgfLtX8Wut4YO4Un10tqyDhDVw(M3u2qZjNUR1(Me4acRlQLG0Mrm7tqVYJQMJCLjqcBrkuqydsdquuwgIkGMHy6WbSulGoE0CoemxZbi1D5ZizrAd0qcWRV5OYAIwwhNC0M0Nx6dHjkTWwsEW2GgAg4rAQPMMSPopFVyrD1CI2iLOwYeBrtsUyCLnC))qPZImpCSLCeXi)Hjiw)ZOqUQBGzvikEiAwSHJPxXJrQyhiQg9jqOBh10BOoK005sBKU)E20Ter0jeIMmBvnRUbg5XucrnBHWydSLIx5CRLcccnDD3VWLkDG1DRVKZQp4hi8wPjij6hssXveCNSHEARRJeTqXSXmw7lh8hq3qhTg9lPvyy6a5ev1ddrHyqCYpdtdji)7W79B2W2qEzxdtRcjFxNwn9wbeXsKgu0aKBRvulMrC9Sy10ZOMM4G4MU08WycOIERKIfmAOqJJjCzQXxqIu9YOMT5nZqlbPgkAl2KewmTQJLaE1IEl2G(uO66dX8qeiXaUEpq4PzGolKwgMRe4GTi)()Yxlbf7HtMxyZCe0MwelwX2qLCzIz4GLrN8(ClXQcG0OVm4LD0xj8YHdUPfTAIw12bJiEriLofLt65lt5MlIqMdqrx2rPTXkBWU6jnfTv8rCiyjAtB8rkq)cbYyOB7dETll5sOpo8d(43GHdtkQNMY0KjF1Fn8dlaxMImHFi6FDjBLwSuWRJ(t302TEndw0KsH8TMfTDxxM6Wkdb5qrD6P9Q9(GGcUnuPxG4ueLgLEmvDfyiyX1Li1N0SlX6wAI62SdXExEFUTyjTStIZleG4(2i1AehkMyKLLsurntfXjV)op)f7fgtyZ0QwuVyriTuc7CI2fi3Bk5YTk5AefGM8fvUitRjSBPxvylzsRBAIhZyRqyLPUEXps5zkMhDNw1WB)mQaTm(zGJCThgoQa0zQ1kc5BPRTkXR9gu3HdOTIyEl4XHZahVz4bfGtbpcCEf40kGFjcm02XcEif4HBTPJViCwfOnf4CkyhDMJt4nbpLc8ekq7MNiOxfZ)KyJS0wd)ThJ6KSd4XGx9wyIh2yfDFUvmBYrIy)Hj)bbpzk410g76FSuqRWjGtQaDLc6wbUWzGRbVnsTI2sUGJoZpz3I65HE(O33AeZ0aU(W6BccLyzcxIGTMIsZ3lvDM9N8Ul7tEbVM)c7YQriCMhMunKXiBuYTD2kjt8qsSt760jKMl121EeZwOygIMJiPzzwpRCaQQSY6SFH(Nt)4wRr)kk533wSJuuLxuN0(raj76cSJ7TB4(TfP0bgy64tyEe2xsHJuFDYmVlbgG8rgVijrhe56Y5QBqVjEXNSLR7N58QCxNvwkHqntE4GBWEize(aJpX4H8kDXhfwTnm2LLLxW8eB)qLKW3ivJKwEhqAG9JjIs0FBt6zv8sSo9dXOYicR7DI62MhkmwTG)PCettD35pE8ny)2oKJsAzlw5zx4IFylwbwHOdq9hS2mEh4(aUSQLkHKNYR9DxrAzE4iJpEOOjdmr84tmw0idnC8T2UEXILzIPJpAKXdrdoyinpRIYoLHkNDc2t1OQeBOaRXoGRaPKcsnRI9usUnRkRv8eempArwnTTEqvlrs1lTYEDqjUkjwHD8BSTRSKnVbl2ppYWKcrxHAPNskNkvHubc5dgubIiaZsLL6w0uvzxUXk4HHjUZkyyKtagp1U(vcy(vqyu7eDiCODD8H31XxzJyZANP)8A2DmaCGMjQFMpuAmrtpPKOgLBsUEmAFYmuAVhflVaKQj4nc)i72xwGTFivaeCqSxmIPUU75KrvdfjTVnnWQeNqmEOpqUTZevwbjVyy4iN8(wBzrSkTzCt3GEz)s0Lf1CqMFPmmpjg6T3Xd0SF)AgeaOFzYj4)Y(pBrb7zqIlsJ60kbfTOQPANpUrwsd8z35CyxoYjneYoycrCaIrSD61HCzPfsnJxjSvq60VWVFIVdhSUFBSd61r)gKMfA7ID5l7xxvBxLMgehPndtV4Sl8t2jRgtC85Eh8UCzejxMhOzYxFAdZndMyGOjNEYbhiEiSSIOEwKvBNb(IcRzsSYiSDE4nVwr8wQRLaYiazvaLtEFGAjQ9WckWIPanfiNcqAGnO62Gjv0gwIQxd4YirdwEcYarE3rawMk1cRWKwHv9b59bf8b)ycWBkf8JRaV5TflHFcb4NuaUkviewJXZH3Ia8tLc(PvG3ArnThjkl4zIWZrfwNAFyjE0g8ZrfIiYhu5cQwgrcHOLruEiAwxNzhPIpQKa2Htj5gTo0kE4bIogjZe4HfGFMw6cAlfrBJk(9ZsU((HhfAhEhebuQahvJQz4Hsrfjp9Tipbpd8oHEAcExuPiy9V7fHGFEb4DlaVhb4xqa(ffGFjxPe4xwa(vuG3lrTaEwFW7ta(vzsbW)p49dphSb8bUk88cWVMa8bj2Tpe8Rd)gcWhwa(iupVWhf(nfGFlb4fGFB43XTHDtb43va(9GFF4JLc(4WFa8IWFi8juGp5jGpLa8hPa)XtbFAf4Ziaxxb(tuGpl1ld8NsDUa)ztbFU96tb(ZvG)cb4Vua(RO(pG))3bEn6otNt07WzMit3EEnAVcEnsQALKg8URf8Zx05bamhfWFBkylFWFhZBa8fyEcG)E4Fa(IWlrOgW)i8Lyub4FcEZWx(EjW)pkf87h(NzaFkc8RqX8Nc(AuCFPGEk49R2mdq3k8Vqb1e4nfjtr0e0mLuqW4pedStGZNTi6(jOmOTi61eNLwUHiULf7)gt1IMU4EH9hNuNAJwFi1bYfMCVpgjQr4TxSYSDCJ0BjjWrwOLPO3W23AaMhy)tZ06O1eYZ0ttEK2jyq6ZbPkrFo6sHEFFMUf10QA0SZvdOzx7uSBzk496dE2TKCSTjP0tK6i5maVpYT1h8C(GpGa88hJDt9bFiFSBjf30DVS4m8soN(nDEbAc6K2hwWw0FKvJAcEbFWhXxXkJp4JPaFCFWl6d(ePGpPa8Po8DBc)cZ1BS5Z2FGR4r47OseEDd7gsgptU7rPm(UXOCTCrxgpLnqykpSR2gLvFwMAKljKslDZIJqCOK)ZRWy9e3bu20jzsKehcu(j13HlVVZuBsUdtqInq02aF6x)L98n0DQ7skC1CQh8F8DaDd(pDVY(HVX(XRuQj8QoZzxy(OtLTqCpE1zReVcJYqYsxH5(971Skb4LjuzovMDyteg0UjuvZGhlQF(vAdhZrpJkgvHWgPSgkjHYJ4biwddquoFOc6sZo9sfdq807bx7AkRUHgw)bPlxiHFRQriHWxh(x)Uk0pbTVuzc9d(32oCVVf72CoAbBTP36BVmH8b)7CvN9eC3(l)uBcR7sZ1RuNli7eTyyDpw5PPv3a6QtLEybYb)xT0RllT6egh8n5bVDVAWBrZm3aD1oALib9yppA5zpn2HTT2ygg842UhjUTfgYPVloTyVThR8cc58SL8a3Ad(21vbUDaHzQCGBFBV3thTG8G2UhoOTPgkXIlnYWfwUlpo6R(2WrBOJARpxkkpQnEuBLsFugjuIE6BC7lCLY)Qj2M(0ag2M3WpIXAkQQDldXiIWdtXX334GBp6Iy0fVXveHJr5ApD0zWI2kEQo0cFBhQqU0Mp6999bXSD57(XSnF0(1UI(4ZEPj8a0hPua9kmZahbxge8)TAfrWRfJODYsDXdetkphexvaXHMvCGvT6QVU7WdeF892riEwcooUC44xOI4yZJeePHSSvf18pGMAw9C0bcArm9l0qGPRbjtxW0EKcPDIm2fl)7hsUOrjP42gLge49P259d9schGgjnfOtH2NMLenbGtrUpLcdysdjNebpfIZc5MeE(XCdkNcX9sM1n28tYYPMqC8qYhNhv(9erLpVSTro92NnXmECLNCF5kjPZwjAcU5QfQcUJWKdulgHj3rAdnD8xSYAdhAgrmw1a73iJ)qAo67m4(FrUWq1bSp9ctIsG79cdvSJdo1EIy31IK0itseZI0qbVFKDRn083p0RbCnIVNqBwnHA(CJL1SJX8OnprLPn16oPWLd9YR)LiESbROeXndBGLru9HXPt2JTfiiNgxGO6iqmYQoPx4kXmlMn8dxkspd1GqX56UgKAf2UJ6FSDRTurS9wHDW5VLqFiNehzxvq2R0V1ydwWXS)jk)8nldXCu7J7PMGRljN4w45e3WhVtWSl23KZnPbQppUYzQaxPEiB4NOUxo4(FQ95n(poAf)0bSKNsaT8CLGQc6EmRCxuCM49VuWY)g)1rRW6l2AgA(HRXIaSEFsZaNMlf0Wlfmz7Rmy7ZfCIESUnd1upOsTvfOw3vcU9xlDgNYzmn8DOW4tnQQ2irVqSBpJHcvASzmRtzmwo4SioLPHNYeiQ0CDU4s5K692mP9kIvQhY14S18OZm0SSvL5ehoXrBbXiAtwyaXBZa9WYdQ0aQ1CNKD(ZBvXCZdmOOLlt5CpVvRnnZxGNzEvAes7CXSYRowUcl6bNBPu4CAQDOrCGkDgUV(gEF9wbhCPLxA2yrgP8DnhLCupeF0duV)UypyGyv0D)MZOQL2FqfAV3Z4mZtoJd(P)ATk8ofi)7qK)DyUcqvA0yFHlSWQbMV9CJ6bYpXEgPfettszxtdpqMBTBgeEQptLhrfK0UZzIsRQN1FudrmdF)APNg5FF2wfEU15i7QdYoZ4lLzM(ZHdLP8UVT22WKetnmnIH5CEEyon8H54SWWRg8sZBjv42TcFwcpHNzBLJ1zUtw5UDoGiErRfvD725ZrkERhq4sCnGQd2EPcZgEXXg3yLHlFpplv0y0i68VhUZF(aToIckyEPjhuU8VpZIeK6H8CFf19J5iHp4FtfD(JJI0rRiQ5nKJOfN74V6SARgC6fhQNrKdpNhU(yLIRXEgcEem3Aeml9nRiiE9i66i8YI2EJHAA55O4QtO5in9Exir2Pw2df)GLIIv32sWXXLzUYFaNk7noEEtLDgaO0IZXXvfC8vcn1SRkPm2CdvEVX2Egcok(w9gp59VFHuiPI9w8DohP0K0jNLJJRo4yDlLfhzGLYhC6BxufU2cooUmXg3tL7eOnIzq305cGeZvm8yYzWbYvN3nUsy5SZiBouXHmzR3YWyH(M(O2IgVLX2xsyq(urN)gs8OkirrPO5JzjUQhv5XVDuL6JjH(XQ7hnah9nu5rdWy0nIX8(duCmG1g9m4cbvNPFoEUz1cfosq7Y39)5y2cYhRjJdSAiIUe9GiC9aUEGhJb39eHNk0SXgxU8tv3DXyQpeeEW6)xB(Z8fR8cx1Hht0YYFiDBr6MO7UwsdPNjxzO6KR7OZzlPNrBII7xzpYEW50T5D0Unjnua8s0hgNVHxu)dONC(LNpA2oTdmr5x3bVfaDJP77YS)xqb41v7CzeV(vAdWGwF3rFGVdyCp8oGH50HcoXflelwyps7Rz)iT16TcJAOMuXneJl5Xz57ig8Kx2Z4HZzQUdijfzi1YVUkER0PA7wJHlz6W17zW852N1K9i6YIMIYQ2I2LmpaA7ZXZEP6a07A(EgiNO9srhR8JRn1sSi1QjaqneExs(lZWF)wCjcpMZeoDo9czCwzYb9yoNFFzo1hjkDK6)3Z176TvrHIBmn2Yq7Sw(tyGTrRwmhgYzXvjQky9(7QJioDQzm2kLFjk1HApSsUSR5OHcyxI(WBKRpW1hkUABfzIXhTVHeZOu(PlwjCM6dLHxvDFxIp75Q86HYyIQEJkkAr5QbvfKT6mZgCbT(1TMP8lgk5OgHgkmCjIaICraUiGhvj7fxXiFFQdNiXTRZbvZ1OTXHFN71)T8)u5H2DW8YAgf3QcOLM74VQGMV0LCwiH0y9kMP8dRBzp7qJ4qHnd3Rp3RVhpXoS5C5eDK7zSYVQH6XtQpc6)e1)7qbF1VY(mSNggjITPBzn2ki)0fjRI7vbKZKRfuDg2tgJEXzYJf7ev(iBuOMe6wXbXKWwCSASa4LSasSiFbKGpCyxz24DELG6Mfxbrp3(WxQMRKeplH7e)O7h5XLNShYJvQnCSisyg5KeTVBLu91P7)mlQQ7pSbohB4qrztpftMGYoEqbVOS8ynpKRp)ZX4tuY15lz0DC8M3HprPKe20oYdCc1)xiux92tOU63JhIgHYHclfpu3Zx(5BuoxidDJbmxDlx6LemVRT6Shu02L)WfJA05oX7D6zM0mXy6PVnBd)I2CEtX9dKaeLzoXHtCytY1HnY09ejWt3r5ZSxIGvQ6mNVtFDyF(A2RdtkUcMoti5Z2J6(84BVNm2kDLPtPSLMhFgewuJKmcUoy(5D3gox2P2rH6RP2XZn5(m1okuCyrrkjFQDCp8u7yQfhOW0T39a2f71f)LHHwRNnh1efNIZJJo9iO85Xb)TUvk3zuPiIxjyFdhVhpUZPkd3P2o1nQ1XQ1DuvtEGA1)bQnsUbLVyFHgy1IbQDYDdLXQM8O0iIaxTEkkn7G7tmAx1ngns54rODpCeAJik2t7ReB(H7S0DqLDOMn0HN1LhZKhEgp8Ssjo5MlwhZfBXrhz2sNxj7qCAaJn7oBnItSIdnMRhxnlcFwl)HDW59w6BpQyRn9wFg(4IPkTG6FPUwvV3PJL1U0LICVmoOMdRKzOwJge4CjJeMRX7dLgEN(g9OeRJlSyIeJxAFOClmKg7(qjquXfr8eZR)94hnYsDKpIMzGGLn6FIvKNzoX1)txpLz(xFP9jZ8N2nyPV(sKyLEh8SZVxo78bhBkJvTdSCaNY9oGz8tEVNqa880Z5rQTN5XYfZ1Nym1qHhOSVYzkZHNF((SuM8CvEnVchGeTlcVORCdT4TEGx)hNNCE1bqRLy18IZFL(dG9a0hz3aAjptrJyI5VBEI5n8U77rjFWRKy1Ri1z5cuYJDupSbN(y7qxQtNYInDSNSYVx2ayhBrn)X02EZ7GDonc(9V8DF)(zLS7u)kZTsHiLUno5HSz2IKwA1YnVJNOUhtF)D9EQmMomT10FymsVq(ItaxY5WJLP6S(sn98RoZQR2BGXlhM27VU2IgkmDjRkdplFvzGhEJhHzSUhAezumLfUuPtyWBLW0O9(A3B6a3CICiD6YPqqnrSQDEEUb3zH289HKN2hC4(6zbSs7MLUBo5sBmi4f6Cxx2fVupKJqh1cTNDXH2mGMHrAsCLg6wC(tdV4t0bsS6LgVxNrIuUo9wAhSsdyNEVBwtmXLfZICx5)5SMgDwt)fM3rD0aHJAuowJfdR4UYQxhO48O1)zW)gEtvEDvpMmsNToAXeVkMdp5S4VxQQtxtpv3to544ENV46WqBLGVPwdAyvm5HglCDjDoXhMlf0WNaYfgU9qxkDO5dUC5YEVuQsJ9ah8Mr0ZGKTrP9pJHJEAl(RaJhpLhjkH5c9nPuhPd0rP7jbUKivpCtYvy4MgY3c2Ds8upVvfJM6LeoJ7O645TATPz(c8(bP6GPh2wRR8lBOMzupm9H2nMoDTPp9Q9dOJZWJzIVfL1t7R098ZeAzNYn96OudViL(FzVRMFBBYW4kJo0etiXeRBzWom(4qthARUPjnzcqQjR5J2L00MpCtzsf7eNe34psETDBIVnHesCcycjMqOkbh4)bUbstACcyNaUaCLtCdHGlyNA3wN9M4fbE2f)Cis7WtLMK)973ZNVppUAEZpRxpV5ZKOOnc9xDarzlndpZx9Rbd8bb0(9CA)ohi67mi7LZGKMzLUv6XJ7v2ny95wRLEGlqCl4gk1R)12aOV2aa9n0Tu739dg4ZUlaLDgOCAXCZfn8oBTytCI0sYu8DyQ7I3Ev3puMRbHY47dLH9MjZKVBRI9Nhx)NhIL4dR)Ze(OeihR()NxSTch3vsC0SPQ)xa6)oZPMpCD6IX6qSKP()fSGS1)sSnTpkl2jkY8Qx2MazcBS0lQE5GNoqCad7qQZlixoj5YHcN2adFElt3afQTuBwbFzWlHHGxGjpvQDfXn2kIQeUDSSj9WlulMZ65NHHaFX3AJKFmZyw0Se07DeaD(1YKlAvHuftJ7DuIyey2JIZLpbWE5ck(7FNny4304wMQziaHDeiCbLiTvITGWk7Hdcl3VtlrrbxdcFoVoe(b2aGjpaa)aa(6qvnSz2sZjgMxUmUqkyfQr1HQgRmLSlw5qxekB5rGrctadekU5cHVz4CjlNKRG5yK9A2WB8ghP3N37hx(h(E24s42MXLRzj4vWzEtW1tfVsUBvLOKb6(shhDRGKe5K2ExrKmtp)fu2I)GBd(da)bgmMuBfpsmI8elFtC9vYcJbMhs7sRTWu24cyjJQXxyQGNoWMGxaNbtttNNOzFL1sSl(QZqZIKH2jHdaV5S2aGPmQlJMHa41zQlt2c9IgnC5qyhNxEkwEF4t6qh4bXSaXSCafztjHoRZtxLRlUfoTofXBK060E(6WF(3Yg9(Sg69Agc69ocyMAXYO8niwKra3K8YZ2SL((eXn3mBt76jSMfe)bXFZzjiNeAfYirLQAWxE1rWx8g(aUO3VWLV)pyJtG8MfUuZsWlGZGQRSMcteY1xLfFinssBZiitj0KJHx7F4VGZw8fKhojmNaEtQK0v2tAEQuM71JzhlC2FkvJ9kXK3BDL91u8h)DI54(gGReZj4Ret0YvRTNy56SM5HC1XtzD7tgJl6pY8WXe3GXchogijLHMoj(0lUu1qKQM7zKqJNmbxrMXxNQ35VSjfLgg1PsZqidfNPrXRKPSkvjUeTX1uTA9RXjkW4lBnrdO6uGWV5ghzNIeO(c9lMYGLCfmSeVr6oxY7VUo)LF2gz)2MROtnlbDFhbrVsIvxEh6flVEoCvMQfdfAWEhuUfZG1oI)coB5Lo2gEPJ(E9)6QzuB0lpt4O4wWGpcBXjFYJFQgZP05TJ6CalziQJ0B)Jb68KRKUYdQpLoZ56dCaOZeUyaJONmyiV4bQ7ZoG7OtKUMLeUVWZCe3rN(PXCoYraqE(3qEUZOjp35)wYt)W9v71n5sH6I7n9uJsE7gIiEFlNXIZMUGZgFpFPXYuS8k1dxX88e)kwQYKOOG(RQh4mMCM9aoJVNZ0ljxUir2AnP5XLGoTwaAooH5XTMwp01QP13)Nqt2pbur2yLkqKSf1mHSojunvOq1zPeg4bOblIXB8WDEYbNX0yDneThQV6N5L)PX2wDT)3oy9JQzxWtT9VfCQ)(pGMRFsU56zztxR8AzQFtsRhVJhLQ62Tv3vC9y2q9foGPc9thkRMv(tlwcLQITIigZAMopk)Xl0j9h6Px9PfSPNkQhUYtla9uXzGZ16VAPzwO78h2LWPhcol3c5MB80h6IDtxf6Moi7BWtcRMLV263QumzRN)YH4j(T8BMCv)N6DV3yv9PZnyw0mu(1Tgu(DMPSDJ6zJ1EXvJWncLF(d(q4taXhR8SjslIyGc06718NB1ziATvODYhXAbAhIH4dlq7enXSVWhpwb)e5Ou4mMzwntb1EhblNyMcKzITrLLeToZShdlRWbWxmW37VVnzP(rgBsP7VFWt)6FdaGDgaCY5ZuUv6seLIy92CCiaMMbjXGA7dJxrhccrR43JwHKPzgU0ZNLSIbb5LWtqGWvS5o2CJXQ33z6uigbvwM6xzdMMmcmikzwrbJUKv9gbNA27fCQpXF4h4nEY7hyhvAPceZTAkIr0Q5ggFE2gD8pp(qVcN6PbVctgo()HEfekhNKkXYK8Qg0LR)4qxaFe2veZXNuaklsuOHc6WQyUp4oWHo3zS70BxgInsPoI0cyn(s4hDaCwWbGV3bq8q5MzTK7wNi6islWGG4fo5zx9igJxDdLf)lhRW)DlOWTldIv1Sbw6)btK0))WExl924urHv70bgjeIzGz0KIgqDbAivaJYZ2uwmOKMMxT5bnH8WmsPo2ojo2X2X(MKMSBeRyfGydly5i2bdWwyb7MDGecjyfG4pq3ZkCtVUtDAVXGew2v(SWsZI7SP5778DpN758DGkc9VfzxvOcvHcuHZB06c(MdzRC6VfEka9z7HHLVo0ddqfIWeMHzdiYwzq0iCeA9ZtjmUdBb4zD9YblFW3Tq5GFoHkVgsKxQZAPonBGJ)pbsc2tx6i1zV6VBYHfzWi87mFnqn(9OPZKtGdcSnLzWTGmd88YbskXhHQsXKQmMS86lIS4bljeKlnWyolJ5B93ENDk5FZS1fsrO5)pFY0RfYt270pgY7aOnyHMqvl1ZV6O9IK2SFU(uwJuBogehBZXYdLy1ChzFSUdN7(Fvrwg1DnAj212wKEmWNGs6A0lFflhCy8yujqMT08NolchJCAQJCAYOJCCh0PxXHPtk3inTindINzT04)obukqIctPkeAlMbH2NYVcMs9wZrP6GbpNr0cM0NfwCShPzrFZE3t6B2hP57k1(fOIy2dWUtDT6jYfRE(ge67Bwp00DAQNzVlKqpe2NQyz5YH6534frE1lGD4gEz8N3T)uixlrzlc3)gZ4ku6h8A)WF6BPpEj9VRR)Ddi0V9aUJLxSuXISTIB0AuV8CG7z2(kt3JVbdCbMlY0V7(2wGPVNHPFRFsafBlO4O0C7uBBL9dLKqiAneDFfo2JFMcvzApzJ(PJdH7Y45VlJyO4j6tTBTDmVOFiruGE82k7jQMfr))(tTNOAq0FB6om5MMF0GEd0MGb1RopOwyOOOtTuQD)dZ2rl2SvuEXYdvhXpIwCTSsAiEjgKgEAMp6Z8D1vEhySfSPLZZ4ouXsgy9nYqORS1W)U0K)0Fx8IDDra4InE(N7AJOcLkKj5M5n2fdVPLCf4UnwmJZ3XIR2egRc04o(U6sBb3UXEq2dKY3p7ofs6FmgzF757apAvbnbEp54lRJbHy)E9KAt8EhgqOQW4HLiy7IgmeiI)cJ4)elI3x7KuzFceP3M616gXBmOAk(w7rahRFTfAfAgEenYRvjtt9nAnOPCGG)gBvKr0nAuCcDosExXfqAChn72TC9px7nFFlueYITKr9dcAc2c8wjxf04jJtPOr49z7Z3PlAItvCthejBsrilOiakcgM)vS9ZQWMrlvgcJS2zOmUdLGB7(T0Ip6xTqkOGX7CPFsqlWEwT5jJ1iQy6GBFirRMwtRjNeAMJt3x)F4Tq0MuekaReq3pIUvsHbt2TsK2Se6O(ZHO9MbSVGne4XiCx0kcCwC)fTJanRqaBhWlXBhqT0js0IonNCDmR9EwYAD61eOdQkzSSa3ctAHTfiKWY8745jTd1JBx2yeE76ZZNC21g4jSPNZ9N1Yx8JwK1smdnj9tczTylOBUk9k1iy5bbIqW8vv5K4gtl6y44xW1xh2J(jlGX3hxhw9dcOyBbf3xBZCzIVnIPbbumAIsxzVJhY)Fc)wAflWVXXDsuPv8D1LQdyy7bdNFAifuOnzJ1MyK4w8QiN7DeUH73lh)0V0cOm9mO80JpP(3xP)9y9VVw)7B8DLv10)gb4B7bFhP6O1dSo94EPjU(Y477Ta3Mkjkn8izqoNgMGkFhPqHd3oAjIVLaFF3rXwH7NdX(T01frjPMkxDAU0D3IGrVJVGUJy1Ioiq2KcW9bfaqbWiJ2CLLy2pVWUdjytPycJ7qe4LC)fB8t(qlubEGrXg1pjidypJcGcv0XrudxplbVDFOQMSOwZrYQiUd9wOztkbpaucaLaJ5mU9G9ITBM4zyiykeMinGNgAv6aFWFBHqqBC6a6he0bSNl3uzOYgfLRwUlHsDYmHruwIZto(mTHy)qSFmrPuLT4xFAuPrHjKfaMO4oYcyvxFwaR8h)Ufb)fmSdo9tcr)TfqDMKbkrXGs0TfHIB2LJwf1uUDtuxUzoCO3crBAc6fGjO3ZRciS9GimJlDyNiew(gNJWyNJs)NRtEQCtRypNquMJ9ODWVTKYbG7t455opKm35H))(Ydjgt1B3TgYjUrum551S2(jSHxH4sdRz5NbynEEwtGOkjQjnqAyXGywtW5ynTv5KMYZX2uLRdNeNknIxgOqGL3buimfAdMwzBnktWombimhol0Z78Y8NLqxU5p)d7D(8BBuefhxwjvGaHGwOTUnfQBLARtJuQDIDCs5hsU2Xo25h2P2noour661ZAVo7pS3D9VcxqfUWPc9)GIq8ha3ReGa6nuvbPEfPkbNO)bWjMz9UjzJ9UohyL329DiQPsZ6nYZNVZ7nV5nVhOF()i0xzAVzMwCYH3YKYTenLY2mIs8WEDisMgGKX1lz2C3yloVi)6HJPjzU8HZAqrrbYoDC1Ygdh2sB1Bunr3Cn1ift0bN2J2jTOPpMOxyGVQQYHiJM2W9d9uV2(khI4dRB2pIXG05fdPJyOKDd1mOsqktoOLsikjBx3CupEYF3bF86lDxlpHL7NRnlJcpsOS2PSJhpCol2syJVzjk5UHMmww9csZe9yAjKSIO2g2L3B2ay5bCFIWFWwbZpzrggor83N0ibAK2jhsEiGOTNlRC2yLNprNnxrVG0C((jAKHPeGQ7Ff6hoNLq93xGLRSVKsITvQQDXpF4CEpMNIavBpuDxUvKVXkDtMpNgv)U9t1QhQxLEZjatpGK67zw71XkSmOsCII86523ZaA2EO5MnNz1eR3kFZYM71b3EZgal3hlhFARxEoVeLqJMSCSkD7bZ4hayz7PF8TwiXgPRV0gjnFLzLdmD4sOzdN11NcbE01NGsXwoRu6c5woEfnDIFl1joHUX953x44qV2YFbT199VZKsGMssq9B3R7lVec5tKXhXrhnFCWFaGDb7jTSxU6Y7uODRgSA8(v7N3z3F2bZ(iej98i(94UiEdMk(mWubu(3drhLw0pFa9kBr4JU0Xjy34vC62n865EwxVlEsmKaLe(7wFfOKkVxv)fQ9f2LXIS3uKor0TcoP5bTKwBkz72KPKrfBpLJNThB8IwY23nbNytjw5QAynz8awBpT(gQazIfzJ5lLXyRV5GynJ(SXOIOVKZNON4ZTKO)MmTqsv2py8Nv9jaM2wy6c3QDMnYZjLazS(uCqMwC)5dxy4E88aWhExF38UMu9M7YUqXK7ASIOBqMWJei(TtZHDSXzeYNXgXBa((rl1uOmf5yPbnKBxdTQyZA5e6GIkBmxnpOgIsNxCcQNjgXQN6NiNytosiovQI8LGKIhW1eaINuqMISvMFJsmPm2GznKKByWr)2rZOcoqsCA5Us(w5HuLmUCVed6BL9owH)a2nIn17KZSbky7DsZK0yvs6GOD5rtJLD0VpKldR976x7Fs5DIUL)nzRUMMa5cdwG4eCF6nC8N38nYnKf9NsvUSfEGV6p8NE98vEW)8w4FooyaWUo5Gq0fxGxzNWdjXqPRsk8xGNmd60WU2poeSEAvS(6KrI)5N965b3haABk3qtvoct30uIDmFbBzfk(6OYScv2wsKsYv6CZ0GZnUENBI0PE8fBvDvP5mpiRhsRa7QDixNRX)iRtPUtSgLstj0vK9PElffqYY6xQl8JcgfSfqF3TIWNxEHClly8Q3EqqxqDErU31vuDAb47bL5p)Q1zhrkjrbs5oRx0BiJ37yE(faSTj33Rvnwz)RXLpP5zibR(mcWZdGNlwX6mzBVLRJH)h9mzd)qaqBpbKCl)jtfLMFz9ou57z(k10KzeaQ7pmlfp3q2p6SAx62INZ7X8SaWY2dlReIpB(2b60nS5loRxzqDL7bfkEUWEqRPePcn1Q(RgxtKCjZfjoHGS)6o)KZ)7(THS8)86(XGhjS2V90rLM0pBQeb8hkTgwFM(XAjKaQnfh4cZaCHPXZhcd)(AUW045Eh)FZdyS9GXfZxQnBTSzYUS5vAbwbbKulkfWxCOZa7iH4oXQWihQqcklwlwRvNci8aq4SJpeeoQ2AXzhhVDYnbm2EW4YCvfBexETvZBLlfLyLG630GBmx)0UdHJJR3yUWJeGyBbIND9MjsFlPAvOn)6pjlYroOreLRP2nzOEbhhAoJq0r0p4YM5wKDwPInAASX8oy5IZOfnEshFAi(oF8qmeKsZNC8ab7a2cyNtAMjdqZgjIS55DipBLQKR1h1i82DpsGzdMdsbMdaZbAQgQsRlfwWpDQAMxuOoGQXzyp40VauoBE6qmiS2E1WMNcweSh2omZC(7Sj98lYBEoAXtjlVnsqHsOchIh)lUlO2GDH1EzWUWl9PaqJWOubxDNKf1G6ahbO2DUS9NqiCF6eoMd7b5emgd6gPCcdJrCcxtqCmBJPCcqtaBmutubyuFcvMht1xrhYNsvYq6hphIYpf(LFwYlg)UWFa43Xj7zGq7LUNDcYhn2qHQvK7q(G9)4)I8wW)bFi7eAPNa5pYGvjVS794)gCWAmYVfiu2Xcm9ShjpTUZOjTeMpt6O5yISxPNk4rr4kiQ4wD46cQk3)5elOPBjy)fn0eRUIQPLEsmIORN7ytvvvcpDvvTlwutKnNtvME2EP6dzfGEQxSW85x8d(qnD9m3b28YlsBEPE7fvswwUoBxZlJc9lPKqm4buLQe3OlNFoUtFhmpAiBFPqpZspc27I9G2lkLyNDxIDY0YMNeBKkoBDkAwf8)D0DXdhHaTHDVuaIQfyyqt9WSE84rdwor3wAQNzosQhNX2KEBNF0T(6VCiMhUT(UwWJeSqyp5dAfMSTYTrWAHnVcn3uswKtE7wIskOoUlG2GTHBd2gaBdA6ML6wA3A5kfK3IROUbDJZWQWBA3IO)R9UE6XnUTIJa0l1a5sqo0EJTafskz8wjT)j(pvjW276TUXzJXA7eNeeSHAgkPX7Ozgp)rALdCbYL8fONkq)u0pj5qpuuu0c0pg5uFpoZWzO0msKCRJDHvoSz8q((dF89i)Xr8rEP)nWFY7THjfO5)g4qf3oNWlfF7PDFw)p5(EP22nF4RnL6o9nlVyPPcOBNky7ubfNwjxNDGxNJwCy46(bcDFLVlO()GBY0FCdJ9pQ4km9h3o2)lPnZ9ZcAhCK9JV31BEZCBVW2lWN9g5MGD02b(3oWFESs3jpn4Ht)8hE)lA(Cmppw51d0))Yx7)Mq)S)9)AdtbCErUqa1C7CaVCoQcV2OB7T42NFxNMb0mHrJskoyXXdIZ3SCQLoUioF7XfXB8Zf8LZFE4571FXDNKhZSJcXmVmp3i(lq8ZJE3nfaLfRSuau8383FRWF6cFU52WNxtdF(UMdF(U)3g(0o46H9Em7bloSzOuI85FByZ2lF(THnqyZF9H3o(ZU249oC2t9BoXlQ)2NN0)vsSZ3Nh7iFTkXdCeRO)NQiO)02iO34JGSN94p7e3NEsi96nVHAx7LO0ROaPxpWU9STHqVXJD742x8XpR)b)E7tAoxWNge4JhuEq0Z0TW3WiNTxGFBJCsp54(Z(dZ6o60M3EU20KTrnIOM5BJAEJpQ5OUNS3SDV9x2zwZFRGHmA0lVWM3sXpq9Dx(JsByyYV4N)N)WnhP89IaaW5gdjWyeWdV9p0HhaS3v2MYSxc3UdVB4Xoh7(0PTZD7ENWGyx0Bd343X2rUH68l7DXr)NrP(2i9K2DE7Rqix9QKhKZXyc1ZJqHsNXi00iAmbQgE5)cYHX8ZR(d5cnMKgZCijbKHmIJBCsK7W0KS3WO2ti36XNEllc8osilcdkW7vzYCGPty0zUElioSXruhMZBFLcfXJUGfrUN)Oa8nEb2upsi)L3XJgh)WqMnza5ywc(Kl1Z958apKG2R822D6SmxWkCCuqAygxUfVPkEz7vQ)JOEmFOPoG8TVitlLE)x19RHIsIszyrqBK4oONfPFpIdVbuWSeE1HQ6EZQV2oWdEx7SsVAVo)MDF)EsvikyouHP0Kj7mYliiQDrDbk78B3TdV6RkOp2pyUpqymZJzN0EplSTMPYClfWwlu4wlBvSiJOEXSm7gH4osIHGJGFwb4)jBiYQxvRbHW8DWh4)V8o4BboveExj(c()cmT5sZzqRwGEv0rpORvU4XNghbLd2wQZm0pAaxrrcFrjZTTtNM6rHHJjZOrUysYfJUJGR5usCaSO54qk4dgmAuXTAT70qCFY6WD3jo0e6qAgFZmONHVVQVx3BUuHpQOVDLsogu583x0A35SZC9DyxaVg)NCVMIWr8f3aIZOjS2UoIwAwtVWuuX(K3jLxnGJfpbnFH1HWPgkK))GseAwwPcpZ8hkQrwRkRo2vA(LpxutHXr2tKM33c9AO2x2RkEs07w0Y4DXzn2IE58))lY4Cmlzklb7J8yTrbyXnADkKCvR(yrtuUxkPsdBLox7LBlrSK0iFEJzzx5KaNGBqCJr3Oiy4s)fZPli3Jyt9jJzjWRHYqhkYC3KjbWWGorbHHWO2e3eIRFwfYga)JQgECyUtOfuPyg350jncPByQRhm(Q70koOzdtlcIQ6e1kdGYqQh)gTpo1FKBK8EcPLf3tXQVvxRED73XszUiLB3T0GWkzWAllCWcfOfxh)Q6UoeQT6kO0e9DoGhCIY1og0kuuktGnmUECcmr3zWCDJ9XedUOJCxZiVcEv1BK0Oi3Gi8luY8s9zcvWQVbuVKBPI6amLl8xGhzxcoz0bAGkMHrPrlQt57QlTMy88zZ5UycnUFpf9u8cICwrIw7B1BpvD1aqE1XGUksFCk0fzsBgtlLexBwTA)1vGb4nlDrh1EkPVlDxuRUVD5D8BUkUN1bQzFQE9qQNY28DlPY6DXvdsHGpqdAmrE53zd52OdS2xbAe)G6cQuX4KFIKRHMXp6N1X5m)ydTLw12SXTQCQ0j6QGjG1Jsdf9YNPevuGEMqV(tkV(dkgZyHjttxtwuxAmUMzmWSofPC2RuhUUUKAQlH70sH(bksHzYkFNjxkUUQtKzsCL9)wfh((MqVoduoIfb4SsMeTA8AvK37QkluosrIkDcoYiewvIYX1LuOP2HKOVQL4oMffZHG1sNkRF3we9CMUwbKeDndin6Bhgcnmw05QG8xIa9TddJsHLnFwShF6QCaR9(Gnsx(FbqcpFrfa290Iq9c6ZOmaMsaJyH1ZhjV)JucTBER2liWbA3b(X1XG(BMdX0zuaQCTG5usfITXP2GgcxxkmHaA5d0Ku97ZD9hXStyoNnpi13jUMEbLAbsq2vQ26RQ6cwp3azcu9AjvFno(8uCnyIWPn7lQbUEzkmyupnW0NpiBvS5BabrH3LHiVAKCtgMWaux1qOjswA1jBaeugfCmAkvlt0h9xpYk0zKynCTinqTMZvFjwhstmq)zX1cpSejMyWnflCduRZGlJtProUu)g(yUsWH3tl(OCV2QKQt)LG6mq1TuVQ61tvQLC)QwQxvZ6oOPEQxBnaDUmngPDCmGUmCBwmgMxkBFw0YyknshCJaVL0OwAuxJKtyQ3mwK7ZzkIvEvcn0rByKBCIhotk2mfcFxTP9YyE1fHCj9BePQsrQbbjtoJ67GlAyE9WD7RK(mM6HBHc7kAyDmRNsdYP(N8wIeJ6i0fhTGqJGs3e1gP6AaOUKM0OzUZ4OjJbyK2jXQGUEnKBKMlq2RtLnloRgm3gsNPtOPnkZ6i14ztndRzZmqz4MRHfgGD5sb6uWgDwLx5GKASqVkss916uPvw9tsFnvjX0b)lAxQ8nWxMkdLPbl(SEAnu(ATWJLPYqzA6YpAMb6msOuUvn3Duce94K7wMTUJ9vKA2OrEyczzZ8T1tUCDECuWCf(PjRsNN7ig(L8MQfvvYbtvqSV503ulPJtCe5xWogFFAGTJseM92)sYktvnOJJgX7pahlL21ivPg68tbyVtuBZBuLYaaNE1EF0gCnvP9Y9rTRYk6qaPC2p(FnBfdvdHwx6jwYnvnQQJ0DzQm1jqx8UsnEtG8UggyABiBFpfNnEMplowViuyPxiMsJePDAKE6QoFe76OZuBKoqDQ9KFqjOl1C95RPwQ2gwP(762wAtHEtH3WvQOIW4v5czupvWqW8QFrJ1YyUOmKELVPx0EwxJ(Pv05(fqlnYaKUQDEwRPlJQBYL1EcQQhmdDWyVPZVpTKSPiTv9GJsOmYPGXHbK5yo(4NG5DXZszrli3l(bfzzINx7oF0Qj9aagd8YDAxM2jTxoPF(J8Szz0oLz)Gu6OKVp9RK2d5jFIOi50vHZR8Cwz5n2)HUrSmL7i)0PL70EhX7hq(wsAiMvkobZ9XSsjchuBqFlIhBuYGDRyr4PJGiJxYtoH8nRpumYAopP(oGeGi)ymrSYk)cuelW)mh)Ze8pXUpNnyF4bp3PUjd61fE01bkrWYs9mphx8zxKKLpgGrWMp6sUH2)(U(Sbcc2H3mS4eSujydTueWu)ry6ui0Ex)kjCrixVd5kEyvnRibvaxdUoXYgQZQ0DGNAhz1FkGvU0uriFvPYKgIjAubrTrj3Hl)DcxKN6h4tVpPh2XAvdhWMJs84QnZdUXQrMCHGjxSofb9xuIh5ksglErPn1nMuKqGf9cemztG((H8Vh(hvV5nRqDmW5bsfwMpmx3MOPnEj287gqU665tt2zjgDHqFMRPPEj2i0N51AU5ELRyWlCO9GGM6n3W4QmEmLzU0Dn2rUR5UVDn2PTBfBxLjiWr)QKbCfzHMWEHVOy(OGo1KZxbw860rAK9aPbWLzg2DDc0Z0wWnyCF8LzZaKna4x3g)hLt(Wlkl(OMQjnVZs8RyGtjoMxlHhqJIw0gYPiKmO4byeK10kXX2FsBzRcNX7GJ9KXIl68E8hW5p2aR(IAz1cbRwOgRkIsWP4Bl60YtSvOP95m65yzX7Cml5u2y0rcQMiJwX8HBia6JaWq8wyLLVCtOHHWCK8S5eteUys7jm3yM)W0XD4tIcav8i200ywrMl7gYrJyJ)u8Iozqdgq8D9K6odJC9tA36XC8iinEb0Sud9gKw48SDU5gqCuTrErE)NC)twzlQwg3Glr5PqXr3aSlp5thnkgnpEumvLB3rk)GxiQ3xut9eTvGDa(PlWu2Cb)XfYGNUXdzjlr)faWJonMgVhYgrt9s49ZXLiKWVU1ipEolxnu(BLqZC1(iCMRHWz2NdDPNLUar4dPKBYkYK6i2Pbj0C4z1k9R2df)(O07xk9(Al9COxGyUw9kYDcc8WkgVw7q)LuKDRrrWbARvpWu1EnAXWGKKGPnj((cqL7xk(9Ue2HEDxvfsccBs(7IY)aH87ZL)(xc5V)QINtAtkWhiCe6HkWECf4GAuGmXuJ8Z1ScfyVvvaCYWkWRkcnSKCvTK9xSY74SqRx(IkKxF1NIWNPzGoGrdhL65HdmYwqOEZPlI5zECyA8KSZHbCaWpTiOCCTt36gF3uCzzLl9kB6jhC8XcTEhC6DCidPH9QoIhMq0GWWMtEth)m3GoGFG94SdeIamtPRvovTj7KLN6lvQWgjuLIrVqwjrpoBPmjHKpuwe8(n5weUC2sulBy8DH6JCM)WA5O0SPCoEZ6N3KVAyOle7zKNVOsw8NdkbF8RlvNXv7mLveXWYGaVPKUu4suDS9pHcOAVFqqyXrAXzwzlEeETBi1nkMN69XDeNXfG4PslJxQ)rs)P10aZoIcKHlG1BhbMbHi2rScsPJIIX1b1RYNay5zWYNMNd(qaMN58Ri3PItYnAjhRUtyouy49y9UZHXfvPINwzDofJEXAWdJRwYT5b5yrzH7vl7rbHybq8F13wedJfjIjdZhVzj)kOv(RdcdF3hC)B9fhD6zp6w3)OtE0zp(bhERhD0p8pUYp8p)M3z2F7j)3";

        private static void UnpackTest()
        {
            var wa = new WeakAura(waTest);
            var table = wa.ToLuaTable().SerializeToString();
            var code = wa.GenerateCode();

            Directory.CreateDirectory("output");
            const string filepath0 = "output/luaTable.txt";
            File.WriteAllText(filepath0, table);
            Console.WriteLine($"File '{filepath0}' written. {table.Length} bytes.");

            const string filepath1 = "output/code.txt";
            File.WriteAllText(filepath1, code);
            Console.WriteLine($"File '{filepath1}' written. {code.Length} bytes.");
        }
    }
}